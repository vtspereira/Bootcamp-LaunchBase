{% extends "layout.njk" %}

{% block content %}

    <script language="JavaScript" src="https://code.jquery.com/jquery-1.11.1.min.js" type="text/javascript"></script>
    <script language="JavaScript" src="https://cdn.datatables.net/1.10.4/js/jquery.dataTables.min.js" type="text/javascript"></script>
    <script language="JavaScript" src="https://cdn.datatables.net/plug-ins/3cfcc339e89/integration/bootstrap/3/dataTables.bootstrap.js" type="text/javascript"></script>
    <link rel="stylesheet" type="text/css" href="http://maxcdn.bootstrapcdn.com/bootstrap/3.2.0/css/bootstrap.min.css">
    <link rel="stylesheet" type="text/css" href="http://cdn.datatables.net/plug-ins/3cfcc339e89/integration/bootstrap/3/dataTables.bootstrap.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
    <link rel="stylesheet" href="/styles.css">

    <div class="card table-container">

        <a href="/instructors/create" class="createInstructor">Novo</a>

        {# <table width="100%">
            <thead>
                <tr>
                    <th>Instructor</th>
                    <th>Atendimento</th>
                    <th>Alunos</th>
                    <th>Editar</th>
                    <th>Excluir</th>
                </tr>
            </thead>
            <tbody>
                {% for instructor in instructors %}
                    <tr>
                        <td>
                            <span style="background-image: url({{ instructor.avatar_url }})"></span>
                            {{instructor.name}}
                        </td>
                        <td>{{instructor.services}}</td>
                        <td>{{instructor.total_students}}</td>
                        <td>
                            <a href="/instructors/{{ instructor.id }}">
                                <img src="https://img.icons8.com/fluent/48/000000/edit.png"/>
                            </a>
                        </td>
                        <form id="form-delete" action="/instructors?_method=DELETE" method="post">
                            <td>
                                <input type="hidden" name="id" value={{instructor.id}}>
                                <button style="cursor: pointer">
                                    <img src="https://img.icons8.com/fluent/48/000000/delete-sign.png"/>
                                </button>
                            </td>
                        </form>
                    </tr>
                {% endfor %}
            </tbody>
        </table> #}

        <table id="datatable" class="table table-striped table-bordered" width="100%">
            <thead>
                <tr>
                    <th>Instructor</th>
                    <th>Atendimento</th>
                    <th>Alunos</th>
                    <th>Editar</th>
                    <th>Excluir</th>
                </tr>
            </thead>

            <tfoot>
                <tr>
                    <th>Instructor</th>
                    <th>Atendimento</th>
                    <th>Alunos</th>
                    <th>Editar</th>
                    <th>Excluir</th>
                </tr>
            </tfoot>
            <tbody>
                {% for instructor in instructors %}
                    <tr>
                        <td>
                            <span style="background-image: url({{ instructor.avatar_url }})"></span>
                            {{instructor.name}}
                        </td>
                        <td>{{instructor.services}}</td>
                        <td>{{instructor.total_students}}</td>
                        <td>
                            <a href="/instructors/{{ instructor.id }}">
                                <p data-placement="top" data-toggle="tooltip" title="Edit">
                                    <input type="hidden" name="id" value={{instructor.id}}>
                                    <button class="btn btn-primary btn-xs" data-title="Edit" data-toggle="modal" data-target="#edit">
                                        <span class="glyphicon glyphicon-pencil"></span>
                                    </button>
                                </p>
                            </a>
                        </td>

                        <form id="form-delete" action="/instructors?_method=DELETE" method="post">
                            <td>
                                <input type="hidden" name="id" value={{instructor.id}}>
                                <p title="Delete">
                                    <button class="btn btn-danger btn-xs">
                                        <span class="glyphicon glyphicon-trash"></span>
                                    </button>
                                </p>
                            </td>
                        </form>

                    </tr>
                {% endfor %}
            </tbody>
        </table>

    </div>

    <script>
        $(document).ready(function () {
            $('#datatable').dataTable();

            $("[data-toggle=tooltip]").tooltip();

        });
    </script>

    <style>
        .btn {
            display: inline-block;
            padding: 6px 12px !important;
            margin-bottom: 0;
            font-size: 14px;
            font-weight: 400;
            line-height: 1.42857143;
            text-align: center;
            white-space: nowrap;
            vertical-align: middle;
            -ms-touch-action: manipulation;
            touch-action: manipulation;
            cursor: pointer;
            -webkit-user-select: none;
            -moz-user-select: none;
            -ms-user-select: none;
            user-select: none;
            background-image: none;
            border: 1px solid transparent;
            border-radius: 4px;
        }

        .btn-primary {
            color: #fff !important;
            background: #428bca !important;
            border-color: #357ebd !important;
            box-shadow: none !important;
        }
        .btn-danger {
            color: #fff !important;
            background: #d9534f !important;
            border-color: #d9534f !important;
            box-shadow: none !important;
        }
    </style>
</div>

{% endblock content %}